<ion-header>
  <ion-toolbar color="primary">
    <ion-title>ConsultForm</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <form [formGroup]="ionicForm" (ngSubmit)="submitForm()">
      <ion-title position="floating">Title</ion-title>
      <ion-item>
        <ion-segment formControlName="title" scrollable="true">
          <ion-segment-button value="MR">
            <ion-label>MR</ion-label>
          </ion-segment-button>

          <ion-segment-button value="MRS">
            <ion-label>MRS</ion-label>
          </ion-segment-button>

          <ion-segment-button value="MISS">
            <ion-label>MISS</ion-label>
          </ion-segment-button>

          <ion-segment-button value="MASTER">
            <ion-label>MASTER</ion-label>
          </ion-segment-button>

          <ion-segment-button value="DR">
            <ion-label>DR</ion-label>
          </ion-segment-button>

          <ion-segment-button value="MR">
            <ion-label>MRS</ion-label>
          </ion-segment-button>

          <ion-segment-button value="PROF">
            <ion-label>PROF</ion-label>
          </ion-segment-button>

          <ion-segment-button value="REV">
            <ion-label>REV</ion-label>
          </ion-segment-button>

          <ion-segment-button value="DS">
            <ion-label>DS</ion-label>
          </ion-segment-button>
        </ion-segment>
      </ion-item>

      <ion-item lines="full">
        <ion-label position="floating">Initials</ion-label>
        <ion-input formControlName="initials" type="text" required></ion-input>
        <span class="error-message" *ngIf=" controls['initials']?.touched && controls['initials'].errors?.['required']">
          Initial(s) is/are required.
        </span>
      </ion-item>

      <ion-item lines="full">
        <ion-label position="floating">Fist Name(s)</ion-label>
        <ion-input formControlName="firstName" type="text" required></ion-input>
        <span class="error-message" *ngIf=" controls['firstName']?.touched && controls['firstName'].errors?.['required']">
          Fist Name(s) is/are required.
        </span>
        <span class="error-message" *ngIf=" controls['firstName']?.touched && controls['firstName'].errors?.['minlength'] ">
          Fist Name should be min 2 chars long.
        </span>
      </ion-item>

      <ion-item lines="full">
        <ion-label position="floating">Surname</ion-label>
        <ion-input formControlName="surname" type="text" required></ion-input>
        <span class="error-message" *ngIf=" controls['surname']?.touched && controls['surname'].errors?.['required']"> Surname is required. </span>
        <span class="error-message" *ngIf=" controls['surname']?.touched && controls['surname'].errors?.['minlength'] ">
          Surname should be min 2 chars long.
        </span>
      </ion-item>

      <ion-item>
        <ion-label>Id Type</ion-label>
        <ion-select formControlName="idType" required>
          <ion-select-option *ngFor="let idType of idTypes" [value]="idType">{{ idType }}</ion-select-option>
        </ion-select>
        <span class="error-message" *ngIf="controls['idType']?.dirty  && controls['idType']?.touched && controls['idType'].errors?.['required']">
          Id Type is required.
        </span>
      </ion-item>

      <ion-item lines="full">
        <ion-label position="floating">Identification Number</ion-label>
        <ion-input formControlName="idNumber" type="text" required></ion-input>
        <span class="error-message" *ngIf=" controls['idNumber']?.touched && controls['idNumber'].errors?.['required']">
          Identification Number is required.
        </span>
        <span
          class="error-message"
          *ngIf="controls['idNumber'].errors?.['minlength'] || controls['idNumber']?.dirty  && controls['idNumber']?.touched && controls['idNumber'].errors?.['minlength']">
          Identification Number should be min 13 chars long.
        </span>
      </ion-item>

      <ion-item>
        <ion-label>Date of Birth </ion-label>
        <ion-input formControlName="dateOfBirth" type="date" required></ion-input>
        <span class="error-message" *ngIf=" controls['dateOfBirth'].touched && controls['dateOfBirth'].errors?.['required']">
          Date of Birth is required.
        </span>
      </ion-item>

      <ion-item lines="full">
        <ion-label position="floating">Cell Number</ion-label>
        <ion-input formControlName="cellNumber" type="text" required></ion-input>
        <span class="error-message" *ngIf=" controls['cellNumber'].touched && controls['cellNumber'].errors?.['required']">
          Cell Number is required.
        </span>
        <span
          class="error-message"
          *ngIf=" ionicForm.get('cellNumber')?.dirty  && controls['cellNumber'].touched && controls['cellNumber'].errors?.['minlength'] ">
          Cell Number should be min 10 chars long.
        </span>
      </ion-item>

      <ion-item lines="full">
        <ion-label position="floating">Email</ion-label>
        <ion-input formControlName="email" type="email"></ion-input>
        <span class="error-message" *ngIf=" controls['email'].errors?.['pattern'] "> Email not valid. </span>
      </ion-item>

      <ion-col>
        <ion-button type="submit" [disabled]="!ionicForm.valid" color="danger" expand="block">Submit</ion-button>
      </ion-col>
    </form>
  </ion-card>
</ion-content>
